{"within":[{"name":"Buildings.Fluid.Sensors"}],"class_definition":[{"class_prefixes":{"prefix":"package"},"class_specifier":{"long_class_specifier":{"name":"UsersGuide","comment":{"string":"\"User\u0027s Guide\""},"composition":{"element_list":{"element":[{"extends_clause":{"name":{"name":"Modelica.Icons.Information"}}}]},"comp_annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"preferredView"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"info\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Documentation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"info"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cp\u003e\nThis package contains models of sensors.\nThere are models with one and with two fluid ports.\n\u003c/p\u003e\n\n\u003ch4\u003eSelection and parameterization of sensor models\u003c/h4\u003e\n\u003cp\u003e\nWhen selecting a sensor model, a distinction needs to be made\nwhether the measured quantity depends on the direction of the flow or\nnot, and whether the sensor output signal is the product of the mass flow rate\nand a medium property.\n\u003c/p\u003e\n\n\u003cp\u003e\nOutput signals that depend on the flow direction and are not multiplied by\nthe mass flow rate are temperature, relative humidity,\nwater vapor concentration \u003ci\u003eX\u003c/i\u003e, trace substances \u003ci\u003eC\u003c/i\u003e and density.\nFor such quantities, sensors with two fluid ports need to be used.\nAn exception is if the quantity is measured directly in a fluid volume, such as modeled in\nmodels of the package\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.MixingVolumes\\\"\u003e\nBuildings.Fluid.MixingVolumes\u003c/a\u003e.\nTherefore, to measure for example the outlet temperature of a heat exchanger, the\nconfiguration on the left in the figure below should be used, and not the configuration on the right.\nFor an explanation, see\n\u003ca href\u003d\\\"modelica://Modelica.Fluid.Examples.Explanatory.MeasuringTemperature\\\"\u003e\nModelica.Fluid.Examples.Explanatory.MeasuringTemperature\u003c/a\u003e.\n\u003c/p\u003e\n\n\u003ctable summary\u003d\\\"summary\\\" border\u003d\\\"1\\\" cellspacing\u003d\\\"0\\\" cellpadding\u003d\\\"2\\\"\u003e\n\u003ctr\u003e\u003cth valign\u003d\\\"top\\\" align\u003d\\\"left\\\"\u003eCorrect use\u003c/th\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003e\n    \u003cimg alt\u003d\\\"image\\\" src\u003d\\\"modelica://Buildings/Resources/Images/Fluid/Sensors/twoPortHex.png\\\" /\u003e\n    \u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\u003cth valign\u003d\\\"top\\\" align\u003d\\\"left\\\"\u003eNot recommended\u003c/th\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003e\n    \u003cimg alt\u003d\\\"image\\\" src\u003d\\\"modelica://Buildings/Resources/Images/Fluid/Sensors/onePortHex.png\\\" /\u003e\n    \u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\n\u003cp\u003e\nExcept for the mass flow rate sensor,\nall sensors with two ports can be\nconfigured as dynamic sensors or as steady-state sensor.\nFor numerical reasons, if the sensor output signal is \u003ci\u003enot\u003c/i\u003e multiplied by the\nmass flow rate, then it is strongly suggested to configure these sensors\nas a dynamic sensor, which the default setting.\nConfiguring a sensor as a dynamic sensor is done by setting the time constant to a non-zero\nvalue. Typically, setting \u003ccode\u003etau\u003d10\u003c/code\u003e seconds yields good results.\nFor \u003ccode\u003etau\u003d0\u003c/code\u003e, numerical problems may occur if mass flow rates are close to zero.\n\u003c/p\u003e\n\n\u003cp\u003e\nIf the sensor output signal is the product of mass flow rate times a measured fluid property,\nsuch as sensors for volumentric flow rate or enthalpy flow rate,\nthen the sensor is by default configured as steady-state sensor. These sensors may be configured by the user\nas a dynamic sensor by setting \u003ccode\u003etau \u0026gt; 0\u003c/code\u003e, but there is typically little benefit as these sensors typically\ndo not cause numerical problems.\nThe reason is that these sensors multiply the quantity that is carried by the flow,\nsuch as specific enthalpy \u003ci\u003eh\u003c/i\u003e by the mass flow rate \u003ci\u003em\u0026#775;\u003c/i\u003e\nto output the measured signal \u003ci\u003eH\u0026#775;\u003dm\u0026#775; h\u003c/i\u003e.\nHence, as the mass flow rate goes to zero, the sensor output\nsignal also goes to zero, which seems to avoid numerical problems.\n\u003c/p\u003e\n\u003cp\u003e\nFor static pressure measurements, sensors with one or with two\nports can be used for all connection topologies.\n\u003c/p\u003e\n\u003cp\u003e\nThe table below summarizes the recommendations for the use of sensors.\n\u003c/p\u003e\n\u003ctable summary\u003d\\\"summary\\\" border\u003d\\\"1\\\" cellspacing\u003d\\\"0\\\" cellpadding\u003d\\\"2\\\"\u003e\n\u003ctr\u003e\u003cth rowspan\u003d\\\"2\\\" valign\u003d\\\"top\\\"\u003eMeasured quantity\u003c/th\u003e\n    \u003cth rowspan\u003d\\\"2\\\" valign\u003d\\\"top\\\"\u003eOne port sensor\u003c/th\u003e\n    \u003cth colspan\u003d\\\"2\\\" valign\u003d\\\"top\\\"\u003eTwo port sensor\u003c/th\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\u003ctd valign\u003d\\\"top\\\"\u003esteady-state (\u003ccode\u003etau\u003d0\u003c/code\u003e)\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003edynamic (\u003ccode\u003etau \u0026gt; 0\u003c/code\u003e)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\u003ctd valign\u003d\\\"top\\\"\u003etemperature\u003cbr/\u003e\n                       relative humidity\u003cbr/\u003e\n                       mass fraction\u003cbr/\u003e\n                       trace substances\u003cbr/\u003e\n                       specific enthalpy\u003cbr/\u003e\n                       specific entropy\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003euse only if connected to a volume\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003eavoid\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003erecommended\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\u003ctd valign\u003d\\\"top\\\"\u003evolume flow rate\u003cbr/\u003e\n                       enthalpy flow rate\u003cbr/\u003e\n                       entropy flow rate\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003e-\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003erecommended\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003erecommended\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\u003ctd valign\u003d\\\"top\\\"\u003epressure\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003erecommended\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003erecommended\u003c/td\u003e\n    \u003ctd valign\u003d\\\"top\\\"\u003erecommended\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\n\u003ch4\u003eSensor Dynamics\u003c/h4\u003e\n\u003ch5\u003eDynamic response to fluid flowing through the sensor\u003c/h5\u003e\n\u003cp\u003e\nIf a sensor is configured as a dynamic sensor by setting \u003ccode\u003etau \u0026gt; 0\u003c/code\u003e,\nthen the measured quantity, say the temperature \u003ci\u003eT\u003c/i\u003e, is\ncomputed as\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\n  \u0026tau; \u0026nbsp; dT \u0026frasl; dt \u003d |m\u0026#775;| \u0026frasl; m\u0026#775;\u003csub\u003e0\u003c/sub\u003e \u0026nbsp; (\u0026theta;-T),\n\u003c/p\u003e\n\u003cp\u003e\nwhere \u003ci\u003e\u0026tau;\u003c/i\u003e is a user-defined time constant of the sensor (a suggested value is around 10 seconds,\nwhich is the default setting for the components),\n\u003ci\u003edT \u0026frasl; dt\u003c/i\u003e is the time derivative of the sensor output signal,\n\u003ci\u003e|m\u0026#775;|\u003c/i\u003e is the absolute value of the mass flow rate,\n\u003ci\u003em\u0026#775;\u003csub\u003e0\u003c/sub\u003e\u003c/i\u003e is the user-specified nominal value of the mass flow rate and\n\u003ci\u003e\u0026theta;\u003c/i\u003e is the temperature of the medium inside the sensor.\nAn equivalent physical model of such a sensor would be a perfectly mixed volume\nwith a sensor that outputs the temperature of this volume. In this situation, the size of the volume would\nbe \u003ci\u003eV\u003d\u0026tau; \u0026nbsp; m\u0026#775;\u003csub\u003e0\u003c/sub\u003e \u0026frasl; \u0026rho;\u003c/i\u003e, where\n\u003ci\u003e\u0026rho;\u003c/i\u003e is the density of the fluid.\n\u003c/p\u003e\n\u003ch5\u003eDynamic response to ambient temperature\u003c/h5\u003e\n\u003cp\u003e\nFor the sensor\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Sensors.TemperatureTwoPort\\\"\u003e\nBuildings.Fluid.Sensors.TemperatureTwoPort\u003c/a\u003e,\nby setting \u003ccode\u003etransferHeat \u003d true\u003c/code\u003e, heat transfer to a\nfixed ambient can be approximated. The heat transfer is computed as\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\n  \u0026tau;\u003csub\u003eHeaTra\u003c/sub\u003e \u0026nbsp; dT \u0026frasl; dt \u003d (T\u003csub\u003eAmb\u003c/sub\u003e-T),\n\u003c/p\u003e\n\u003cp\u003e\nwhere \u003ci\u003e\u0026tau;\u003csub\u003eHeaTra\u003c/sub\u003e\u003c/i\u003e is a fixed time constant and\n\u003ci\u003eT\u003csub\u003eAmb\u003c/sub\u003e\u003c/i\u003e is a fixed ambient temperature.\nSetting \u003ccode\u003etransferHeat \u003d true\u003c/code\u003e is useful if the sensor output \u003ci\u003eT\u003c/i\u003e\nis used to switch the mass flow rate on again. If \u003ccode\u003etransferHeat \u003d false\u003c/code\u003e,\nthen the sensor output \u003ci\u003eT\u003c/i\u003e remains constant if the mass flow rate is zero\nand hence a fan or pump controller that uses this signal may never switch the device\non again.\nIf the sensor output \u003ci\u003eT\u003c/i\u003e is not used to switch on the mass flow rate, then\nin general one can use \u003ccode\u003etransferHeat\u003dfalse\u003c/code\u003e.\n\u003c/p\u003e\n\u003cp\u003e\nNote that since in practice the heat transfer is due to a combination of ambient\ntemperature and upstream or downstream fluid temperature, for example by two-way\nbuoyancy-driven flow inside the duct or pipe, the model uses as an approximation\na fixed ambient temperature.\nSince the sensor is not affecting the temperature of the medium, this approximation\nof the heat transfer does not add or remove heat from the fluid.\n\u003c/p\u003e\n\u003ch5\u003eCombined dynamic response\u003c/h5\u003e\n\u003cp\u003e\nFor the sensor\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Sensors.TemperatureTwoPort\\\"\u003e\nBuildings.Fluid.Sensors.TemperatureTwoPort\u003c/a\u003e,\nif both dynamic effects are enabled, then\nthe output \u003ci\u003eT\u003c/i\u003e is computed as\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\ndT \u0026frasl; dt \u003d |m\u0026#775;| \u0026frasl; m\u0026#775;\u003csub\u003e0\u003c/sub\u003e \u0026nbsp; (\u0026theta;-T) \u0026frasl; \u0026tau; +\n(T\u003csub\u003eAmb\u003c/sub\u003e-T) \u0026frasl;  \u0026tau;\u003csub\u003eHeaTra\u003c/sub\u003e.\n\u003c/p\u003e\n\u003ch4\u003eImplementation\u003c/h4\u003e\n\u003cp\u003e\nThe above equation is implemented in such a way that it is differentiable in the mass flow rate.\n\u003c/p\u003e\n\u003cp\u003e\nNote that the implementation of the dynamic sensors does not use the model\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.MixingVolumes\\\"\u003e\nBuildings.Fluid.MixingVolumes\u003c/a\u003e.\nThe reason is that depending on the selected medium model, the\nmixing volume may introduce states for the pressure, species concentration,\ntrace substance, specific enthalpy and specific entropy. Not all states are typically needed to\nmodel the dynamics of a sensor. Moreover, in many building system applications,\nthe sensor dynamics is not of concern, but is rather used here to avoid numerical\nproblems that steady-state models of sensors cause when flow rates are\nvery close to zero.\n\u003c/p\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}}}]}