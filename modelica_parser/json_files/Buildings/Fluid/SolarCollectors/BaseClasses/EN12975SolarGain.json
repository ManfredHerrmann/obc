{"within":[{"name":"Buildings.Fluid.SolarCollectors.BaseClasses"}],"class_definition":[{"class_prefixes":{"prefix":"model"},"class_specifier":{"long_class_specifier":{"name":"EN12975SolarGain","comment":{"string":"\"Model calculating solar gains per the EN12975 standard\""},"composition":{"protect":["protected"],"element_list":{"element":[{"extends_clause":{"name":{"name":"Modelica.Blocks.Icons.Block"}}},{"extends_clause":{"name":{"name":"SolarCollectors.BaseClasses.PartialParameters"}}},{"replaceable":"replaceable","replaceable_class_definition":{"class_prefixes":{"prefix":"package"},"class_specifier":{"short_class_specifier":{"className":"Medium","base_prefix":{"type_prefix":{}},"inputName":{"name":"Modelica.Media.Interfaces.PartialMedium"},"comment":{"comment":{"string":"\"Medium in the system\""}}}}}},{"component_clause":{"type_prefix":{"prefix":" parameter"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"B0"},"comment":{"comment":{"string":"\"1st incident angle modifer coefficient\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" parameter"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"B1"},"comment":{"comment":{"string":"\"2nd incident angle modifer coefficient\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" parameter"},"type_specifier":{"specifier":{"name":"Boolean"}},"component_list":{"component_declaration":[{"declaration":{"name":"use_shaCoe_in","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"false"}]}}]}}}}}}}}},"comment":{"comment":{"string":"\"Enables an input connector for shaCoe\""},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Dialog"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"group"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"Shading\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}},{"component_clause":{"type_prefix":{"prefix":" parameter"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"shaCoe","modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"min"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0.0"}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"max"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1.0"}]}}]}}}}}}}},"comment":{}}}}]}},"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}}}},"comment":{"comment":{"string":"\"Shading coefficient 0.0: no shading, 1.0: full shading\""},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Dialog"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"enable"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"not":"not","relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"use_shaCoe_in"}}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"group"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"Shading\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}},{"component_clause":{"type_prefix":{"prefix":" parameter"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"iamDiff"},"comment":{"comment":{"string":"\"Incidence angle modifier for diffuse radiation\""}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Modelica.Blocks.Interfaces.RealInput"}},"component_list":{"component_declaration":[{"declaration":{"name":"shaCoe_in"},"condition_attribute":{"iF":"if","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"use_shaCoe_in"}}]}}]}}}}}}}},"comment":{"comment":{"string":"\"Time varying input for the shading coefficient\""},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Placement"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"transformation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"extent"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"140"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"60"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"20"}]}}]}}}}}}}}}}}]}}]}}}}}}}}}}}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Modelica.Blocks.Interfaces.RealInput"}},"component_list":{"component_declaration":[{"declaration":{"name":"HSkyDifTil","modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"unit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"W/m2\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"quantity"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"RadiantEnergyFluenceRate\""}]}}]}}}}}}}},"comment":{}}}}]}}}},"comment":{"comment":{"string":"\"Diffuse solar irradiation on a tilted surfce from the sky\""},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Placement"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"transformation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"extent"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"140"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"60"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}}}}}]}}]}}}}}}}}}}}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Modelica.Blocks.Interfaces.RealInput"}},"component_list":{"component_declaration":[{"declaration":{"name":"incAng","modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"quantity"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"Angle\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"unit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"rad\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"displayUnit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"degree\""}]}}]}}}}}}}},"comment":{}}}}]}}}},"comment":{"comment":{"string":"\"Incidence angle of the sun beam on a tilted surface\""},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Placement"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"transformation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"extent"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"140"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"20"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"20"}]}}]}}}}}}}}}}}]}}]}}}}}}}}}}}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Modelica.Blocks.Interfaces.RealInput"}},"component_list":{"component_declaration":[{"declaration":{"name":"HDirTil","modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"unit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"W/m2\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"quantity"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"RadiantEnergyFluenceRate\""}]}}]}}}}}}}},"comment":{}}}}]}}}},"comment":{"comment":{"string":"\"Direct solar irradiation on a tilted surfce\""},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Placement"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"transformation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"extent"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"140"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"20"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"60"}]}}]}}}}}}}}}}}]}}]}}}}}}}}}}}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Modelica.Blocks.Interfaces.RealOutput"}},"component_list":{"component_declaration":[{"declaration":{"name":"QSol_flow","array_subscripts":{"subscript":[{"subscript":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"nSeg"}}]}}]}}}}}}}}]},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"prefix":"final","element_modification":{"name":{"name":"unit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"W\""}]}}]}}}}}}}},"comment":{}}}}]}}}},"comment":{"comment":{"string":"\"Solar heat gain\""},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Placement"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"transformation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"extent"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"10"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"120"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"10"}]}}]}}}}}}}}}}}]}}]}}}}}}}}}}}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Modelica.Blocks.Interfaces.RealInput"}},"component_list":{"component_declaration":[{"declaration":{"name":"TFlu","array_subscripts":{"subscript":[{"subscript":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"nSeg"}}]}}]}}}}}}}}]},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"unit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"K\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"displayUnit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"degC\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"quantity"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"ThermodynamicTemperature\""}]}}]}}}}}}}},"comment":{}}}}]}}}},"comment":{"comment":{},"annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Placement"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"transformation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"extent"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"140"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"60"}]}}]}}}}}}}}}}}]}}]}}}}}}}}}}}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}]}}}]},"prefixed_element":[{"element":[{"component_clause":{"type_prefix":{"prefix":" constant"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.TemperatureDifference"}},"component_list":{"component_declaration":[{"declaration":{"name":"dTMax","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}}}}}},"comment":{"comment":{"string":"\"Safety temperature difference to prevent TFlu \u003e Medium.T_max\""}}}]}}},{"prefix":"final ","component_clause":{"type_prefix":{"prefix":" parameter"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.Temperature"}},"component_list":{"component_declaration":[{"declaration":{"name":"TMedMax","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"Medium.T_max"}}]}},{"factor":{"primarys":[{"component_reference":{"component":"dTMax"}}]}}],"adds":[{"add_op":"-"}]}}}}}}}}},"comment":{"comment":{"string":"\"Fluid temperature above which there will be no heat gain computed to prevent TFlu \u003e Medium.T_max\""}}}]}}},{"prefix":"final ","component_clause":{"type_prefix":{"prefix":" parameter"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.Temperature"}},"component_list":{"component_declaration":[{"declaration":{"name":"TMedMax2","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"TMedMax"}}]}},{"factor":{"primarys":[{"component_reference":{"component":"dTMax"}}]}}],"adds":[{"add_op":"-"}]}}}}}}}}},"comment":{"comment":{"string":"\"Fluid temperature below which there will be no heat loss computed to prevent TFlu \u003c Medium.T_min\""}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"iamBea"},"comment":{"comment":{"string":"\"Incidence angle modifier for director solar radiation\""}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Modelica.Blocks.Interfaces.RealInput"}},"component_list":{"component_declaration":[{"declaration":{"name":"shaCoe_internal"},"comment":{"comment":{"string":"\"Internally used shaCoe\""}}}]}}}]}],"equation_section":[{"prefix":" equation","equation":[{"connect_clause":{"component":[{"component":"shaCoe_internal"},{"component":"shaCoe_in"}]},"comment":{"comment":{}}},{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"iamBea"}}]}}]}}}}}},"operator":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"SolarCollectors.BaseClasses.IAM"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"incAng"}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"B0"}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"B1"}}]}}]}}}}}}}}}}}}}]}}]}}}}}}},"comment":{"comment":{}}},{"if_equation":{"iF":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"not":"not","relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"use_shaCoe_in"}}]}}]}}}}}}},"if_then":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"shaCoe_internal"}}]}}]}}}}}},"operator":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"shaCoe"}}]}}]}}}}}}},"comment":{"comment":{}}}]},"comment":{"comment":{}}},{"for_equation":{"loop_indices":{"for_index":[{"for_index":"i","in_expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}},"operator1":":","expression2":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"nSeg"}}]}}]}}}}}}}}]},"loop_equations":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"QSol_flow","array":[{"subscript":[{"subscript":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"i"}}]}}]}}}}}}}}]}]}}]}}]}}}}}},"operator":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"A_c"}}]},"mul_op":[{"mul_op":"/"},{"mul_op":"*"},{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"nSeg"}}]},{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"y_intercept"}}]},"mul_op":[{"mul_op":"*"}],"factors":[{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"iamBea"}}]},"mul_op":[{"mul_op":"*"},{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"HDirTil"}}]},{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1.0"}]}},{"factor":{"primarys":[{"component_reference":{"component":"shaCoe_internal"}}]}}],"adds":[{"add_op":"-"}]}}}}}}}]}}]}]},{"factor":{"primarys":[{"component_reference":{"component":"iamDiff"}}]},"mul_op":[{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"HSkyDifTil"}}]}]}],"adds":[{"add_op":"+"}]}}}}}}}]}}]}]}]}}}}}}}]}}]},{"primarys":[{"name":{"name":"smooth"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"iF":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"TFlu","array":[{"subscript":[{"subscript":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"i"}}]}}]}}}}}}}}]}]}}]}}]},"rel_op":{"rel_op":"\u003c"},"expression2":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"TMedMax2"}}]}}]}}}}}}},"if_then":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}}}},"eLse":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"Buildings.Utilities.Math.Functions.smoothHeaviside"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"TMedMax"}}]}},{"factor":{"primarys":[{"component_reference":{"component":"TFlu","array":[{"subscript":[{"subscript":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"i"}}]}}]}}}}}}}}]}]}}]}}],"adds":[{"add_op":"-"}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"dTMax"}}]}}]}}}}}}}}}}}}]}}]}}}}}}}}}}}}}]}]}]}}}}}}},"comment":{"comment":{}}}]},"comment":{"comment":{}}}]}],"comp_annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"defaultComponentName"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"solGai\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Documentation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"info"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n      \u003cp\u003e\n        This component computes the solar heat gain of the solar thermal collector. It\n        only calculates the solar heat gain without considering the heat loss to the\n        environment. This model performs calculations using ratings data from EN12975.\n        The solar heat gain is calculated using Equation 559 in the referenced EnergyPlus\n        documentation. The calculation is modified somewhat to use coefficients from EN12975.\n      \u003c/p\u003e\n      \u003cp\u003e\n        The equation used to calculate solar gain is a modified version of Eq 559 from\n        the EnergyPlus documentation. It is\n      \u003c/p\u003e\n      \u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\n        Q\u003csub\u003eFlow\u003c/sub\u003e[i] \u003d A\u003csub\u003ec\u003c/sub\u003e/nSeg F\u003csub\u003eR\u003c/sub\u003e(\u0026tau;\u0026alpha;) (K\u003csub\u003e\n        (\u0026tau;\u0026alpha;),Beam\u003c/sub\u003e G\u003csub\u003eBeam\u003c/sub\u003e (1-shaCoe)+K\u003csub\u003eDiff\u003c/sub\u003e G\u003csub\u003e\n        Diff\u003c/sub\u003e),\n      \u003c/p\u003e\n      \u003cp\u003e\n        where \u003ci\u003eQ\u003csub\u003eFlow\u003c/sub\u003e[i]\u003c/i\u003e is the heat gained in each segment, \u003ci\u003eA\u003csub\u003e\n        c\u003c/sub\u003e\u003c/i\u003e is the area of the collector, \u003ccode\u003enSeg\u003c/code\u003e is the number of\n        segments in the collector, \u003ci\u003eF\u003csub\u003eR\u003c/sub\u003e(\u0026tau;\u0026alpha;)\u003c/i\u003e is the maximum\n        efficiency of the collector, \u003ci\u003eK\u003csub\u003e(\u0026tau;\u0026alpha;),Beam\u003c/sub\u003e \u003c/i\u003eis the\n        incidence angle modifier for beam radiation, \u003ci\u003eG\u003csub\u003eBeam\u003c/sub\u003e\u003c/i\u003e is the\n        current beam radiation on the collector, \u003ccode\u003eshaCoe\u003c/code\u003e is the shading\n        coefficient, \u003ci\u003eK\u003csub\u003eDiff\u003c/sub\u003e\u003c/i\u003e is the incidence angle modifier for\n        diffuse radiation and \u003ci\u003eG\u003csub\u003eDiff\u003c/sub\u003e\u003c/i\u003e is the diffuse\n        radiation striking the surface.\n      \u003c/p\u003e\n      \u003cp\u003e\n        The solar radiation equation indicates that the collector is divided into\n        multiple segments. The number of segments used in the simulation is specified\n        using the parameter \u003ccode\u003enSeg\u003c/code\u003e. The area of an individual segment is\n        identified by dividing the collector area by the total number of segments. The\n        parameter \u003ccode\u003eshaCoe\u003c/code\u003e is used to define the percentage of the collector\n        which is shaded. The main difference between this model and the ASHRAE model\n        is the handling of diffuse radiation. The ASHRAE model contains calculated\n        incidence angle modifiers for both sky and ground diffuse radiation\n        while this model uses a coefficient from test data for diffuse radiation.\n      \u003c/p\u003e\n      \u003cp\u003e\n        The incidence angle modifier for beam radiation is calculated using Eq 555\n        from the EnergyPlus documentation, as\n      \u003c/p\u003e\n      \u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\n        K\u003csub\u003e(\u0026tau;\u0026alpha;),Beam\u003c/sub\u003e\u003d1+b\u003csub\u003e0\u003c/sub\u003e (1/cos(\u0026theta;)-1)+b\u003csub\u003e1\u003c/sub\u003e\n        (1/cos(\u0026theta;)-1)\u003csup\u003e2\u003c/sup\u003e,\n      \u003c/p\u003e\n      \u003cp\u003e\n        where \u003ci\u003eK\u003csub\u003e(\u0026tau;\u0026alpha;),Beam\u003c/sub\u003e\u003c/i\u003e is the incidence angle modifier\n        for beam radiation, \u003ci\u003eb\u003csub\u003e0\u003c/sub\u003e\u003c/i\u003e is the first incidence angle modifier\n        coefficient, \u003ci\u003e\u0026theta;\u003c/i\u003e is the incidence angle and \u003ci\u003eb\u003csub\u003e1\u003c/sub\u003e\u003c/i\u003e\n        is the second incidence angle modifier coefficient.\n      \u003c/p\u003e\n      \u003cp\u003e\n        This model reduces the heat gain rate to 0 W when the fluid temperature is\n        within 1 degree C of the maximum temperature of the medium model. The\n        calucation is performed using the\n        \u003ca href\u003d\\\"modelica://Buildings.Utilities.Math.Functions.smoothHeaviside\\\"\u003e\n        Buildings.Utilities.Math.Functions.smoothHeaviside\u003c/a\u003e function.\n      \u003c/p\u003e\n    \u003ch4\u003eReferences\u003c/h4\u003e\n      \u003cp\u003e\n      \u003ca href\u003d\\\"http://www.energyplus.gov\\\"\u003eEnergyPlus 7.0.0 Engineering Reference\u003c/a\u003e,\n        October 13, 2011.\u003cbr/\u003e\n      CEN 2006, European Standard 12975-1:2006, European Committee for Standardization\n      \u003c/p\u003e\n    \u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"revisions"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cul\u003e\n\u003cli\u003e\nMay 31, 2017, by Michael Wetter and Filip Jorissen:\u003cbr/\u003e\nChange limits for incident angle modifier to avoid dip in temperature\nat shallow incidence angles.\u003cbr/\u003e\nThis is for\n\u003ca href\u003d\\\"https://github.com/lbl-srg/modelica-buildings/issues/785\\\"\u003eissue 785\u003c/a\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nSeptember 17, 2016, by Michael Wetter:\u003cbr/\u003e\nCorrected quantity from \u003ccode\u003eTemperature\u003c/code\u003e to \u003ccode\u003eThermodynamicTemperature\u003c/code\u003e\nto avoid an error in the pedantic model check in Dymola 2017 FD01 beta2.\u003cbr/\u003e\nThis is for\n\u003ca href\u003d\\\"https://github.com/lbl-srg/modelica-buildings/issues/557\\\"\u003eissue 557\u003c/a\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nJune 29, 2015, by Michael Wetter:\u003cbr/\u003e\nRevised implementation of heat loss near \u003ccode\u003eMedium.T_max\u003c/code\u003e\nto make it more efficient.\n\u003c/li\u003e\n\u003cli\u003e\nJune 29, 2015, by Filip Jorissen:\u003cbr/\u003e\nFixed sign mistake causing model to fail under high\nsolar irradiation because temperature goes above\nmedium temperature bound.\n\u003c/li\u003e\n\u003cli\u003e\nJan 15, 2013, by Peter Grant:\u003cbr/\u003e\nFirst implementation\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}}}]}