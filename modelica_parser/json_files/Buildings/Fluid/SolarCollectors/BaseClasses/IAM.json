{"within":[{"name":"Buildings.Fluid.SolarCollectors.BaseClasses"}],"class_definition":[{"class_prefixes":{"prefix":"nullnull null function"},"class_specifier":{"long_class_specifier":{"name":"IAM","comment":{"string":"\"Function for incident angle modifer\""},"composition":{"protect":["protected"],"element_list":{"element":[{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.Angle"}},"component_list":{"component_declaration":[{"declaration":{"name":"incAng"},"comment":{"comment":{"string":"\"Incident angle\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"B0"},"comment":{"comment":{"string":"\"1st incident angle modifer coefficient\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"B1"},"comment":{"comment":{"string":"\"2nd incident angle modifer coefficient\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" output"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"incAngMod"},"comment":{"comment":{"string":"\"Incident angle modifier coefficient\""}}}]}}}]},"prefixed_element":[{"element":[{"component_clause":{"type_prefix":{"prefix":" constant"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.Angle"}},"component_list":{"component_declaration":[{"declaration":{"name":"incAngMin","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},"mul_op":[{"mul_op":"/"}],"factors":[{"primarys":[{"simple_primary":"2"}]}]},{"factor":{"primarys":[{"simple_primary":"0.1"}]}}],"adds":[{"add_op":"-"}]}}}}}}}}},"comment":{"comment":{"string":"\"Minimum incidence angle to avoid division by zero\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" constant"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"delta","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0.0001"}]}}]}}}}}}}}},"comment":{"comment":{"string":"\"Width of the smoothing function\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" constant"},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"cosIncAngMin","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"Modelica.Math.cos"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"incAngMin"}}]}}]}}}}}}}}}}}]}}]}}}}}}}}},"comment":{"comment":{"string":"\"Cosine of minimum incidence angle\""}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"k","modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]},"mul_op":[{"mul_op":"/"}],"factors":[{"primarys":[{"name":{"name":"Buildings.Utilities.Math.Functions.smoothMax"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"Modelica.Math.cos"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"incAng"}}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"cosIncAngMin"}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"delta"}}]}}]}}}}}}}}}}}}}]}]},{"factor":{"primarys":[{"simple_primary":"1"}]}}],"adds":[{"add_op":"-"}]}}}}}}}}},"comment":{"comment":{"string":"\"Term 1/cos(theta)-1 with regularization to avoid division by zero\""}}}]}}}]}],"algorithm_section":[{"algorithm":"algorithm","statement":[{"component_reference":{"component":"incAngMod"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"Buildings.Utilities.Math.Functions.smoothLimit"},"function_call_args":{"arguments":{"named_arguments":{"argument":{"name":"x","argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}},{"factor":{"primarys":[{"component_reference":{"component":"B0"}}]},"mul_op":[{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"k"}}]}]},{"factor":{"primarys":[{"component_reference":{"component":"B1"}}]},"mul_op":[{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"k"}},{"simple_primary":"2"}],"operator":"^"}]}],"adds":[{"add_op":"+"},{"add_op":"+"}]}}}}}}}]}}]}}]}}}}}}}}},"arguments":{"argument":{"name":"l","argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}}}},"arguments":{"argument":{"name":"u","argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}}}}}},"arguments":{"argument":{"name":"deltaX","argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"delta"}}]}}]}}}}}}}}}}}}}}}}]}}]}}}}}}},"comment":{"comment":{}}}]}],"comp_annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"smoothOrder"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Documentation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"info"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003ch4\u003eOverview\u003c/h4\u003e\n\u003cp\u003e\nThis function computes the incidence angle modifier for solar insolation\nstriking the surface of the solar thermal collector. It is calculated using\nEq 555 in the EnergyPlus 7.0.0 Engineering Reference.\n\u003c/p\u003e\n\u003ch4\u003eNotice\u003c/h4\u003e\n\u003cp\u003e\nAs stated in EnergyPlus7.0.0 the incidence angle equation performs poorly\nat angles greater than 60 degrees. This model outputs 0 whenever the incidence\nangle is greater than 60 degrees.\n\u003c/p\u003e\n\u003ch4\u003eReferences\u003c/h4\u003e\n\u003cp\u003e\n\u003ca href\u003d\\\"http://www.energyplus.gov\\\"\u003eEnergyPlus 7.0.0 Engineering Reference\u003c/a\u003e,\nOctober 13, 2011.\n\u003c/p\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"revisions"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cul\u003e\n\u003cli\u003e\nMay 31, 2017, by Michael Wetter and Filip Jorissen:\u003cbr/\u003e\nChange limits for incident angle modifier to avoid dip in temperature\nat shallow incidence angles.\u003cbr/\u003e\nThis is for\n\u003ca href\u003d\\\"https://github.com/lbl-srg/modelica-buildings/issues/785\\\"\u003eissue 785\u003c/a\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nNovember 20, 2014, by Michael Wetter:\u003cbr/\u003e\nAdded missing \u003ccode\u003eprotected\u003c/code\u003e keyword.\n\u003c/li\u003e\n\u003cli\u003e\nMay 22, 2012, by Wangda Zuo:\u003cbr/\u003e\nFirst implementation.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}}}]}