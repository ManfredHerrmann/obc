{"within":[{"name":"Buildings.Fluid.HeatPumps"}],"class_definition":[{"class_prefixes":{"prefix":"model"},"class_specifier":{"long_class_specifier":{"name":"Carnot_y","comment":{"string":"\"Reversible heat pump with performance curve adjusted based on Carnot efficiency\""},"composition":{"element_list":{"element":[{"extends_clause":{"name":{"name":"Buildings.Fluid.Chillers.BaseClasses.PartialCarnot_y"},"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"prefix":"final","element_modification":{"name":{"name":"COP_is_for_cooling"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"false"}]}}]}}}}}}}},"comment":{}}}}]}}}}]},"equation_section":[{"prefix":"initial  equation","equation":[{"name":{"name":"assert"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"COP_nominal"}}]}}]},"rel_op":{"rel_op":"\u003e"},"expression2":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"The nominal COP of a heat pump must be bigger than one.\""}]}}]}}}}}}}}}}},"comment":{"comment":{}}}]}],"comp_annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"defaultComponentName"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"heaPum\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Documentation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"info"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cp\u003e\nThis is model of a heat pump whose coefficient of performance COP changes\nwith temperatures in the same way as the Carnot efficiency changes.\nThe input signal \u003ci\u003ey\u003c/i\u003e is the control signal for the compressor.\n\u003c/p\u003e\n\u003cp\u003e\nThe model allows to either specify the Carnot effectivness\n\u003ci\u003e\u0026eta;\u003csub\u003eCarnot,0\u003c/sub\u003e\u003c/i\u003e, or\na \u003ci\u003eCOP\u003csub\u003e0\u003c/sub\u003e\u003c/i\u003e\nat the nominal conditions, together with\nthe evaporator temperature \u003ci\u003eT\u003csub\u003eeva,0\u003c/sub\u003e\u003c/i\u003e and\nthe condenser temperature \u003ci\u003eT\u003csub\u003econ,0\u003c/sub\u003e\u003c/i\u003e, in which\ncase the model computes the Carnot effectivness as\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\n\u0026eta;\u003csub\u003eCarnot,0\u003c/sub\u003e \u003d\n  COP\u003csub\u003e0\u003c/sub\u003e\n\u0026frasl;  (T\u003csub\u003econ,0\u003c/sub\u003e \u0026frasl; (T\u003csub\u003econ,0\u003c/sub\u003e-T\u003csub\u003eeva,0\u003c/sub\u003e)).\n\u003c/p\u003e\n\u003cp\u003e\nThe heat pump COP is computed as the product\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\n  COP \u003d \u0026eta;\u003csub\u003eCarnot,0\u003c/sub\u003e COP\u003csub\u003eCarnot\u003c/sub\u003e \u0026eta;\u003csub\u003ePL\u003c/sub\u003e,\n\u003c/p\u003e\n\u003cp\u003e\nwhere \u003ci\u003eCOP\u003csub\u003eCarnot\u003c/sub\u003e\u003c/i\u003e is the Carnot efficiency and\n\u003ci\u003e\u0026eta;\u003csub\u003ePL\u003c/sub\u003e\u003c/i\u003e is a polynomial in the heating part load ratio \u003ci\u003ey\u003csub\u003ePL\u003c/sub\u003e\u003c/i\u003e\nthat can be used to take into account a change in \u003ci\u003eCOP\u003c/i\u003e at part load\nconditions.\nThis polynomial has the form\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\" style\u003d\\\"font-style:italic;\\\"\u003e\n  \u0026eta;\u003csub\u003ePL\u003c/sub\u003e \u003d a\u003csub\u003e1\u003c/sub\u003e + a\u003csub\u003e2\u003c/sub\u003e y\u003csub\u003ePL\u003c/sub\u003e + a\u003csub\u003e3\u003c/sub\u003e y\u003csub\u003ePL\u003c/sub\u003e\u003csup\u003e2\u003c/sup\u003e + ...\n\u003c/p\u003e\n\u003cp\u003e\nwhere the coefficients \u003ci\u003ea\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e are declared by the parameter \u003ccode\u003ea\u003c/code\u003e.\n\u003c/p\u003e\n\u003cp\u003e\nOn the \u003ccode\u003eDynamics\u003c/code\u003e tag, the model can be parametrized to compute a transient\nor steady-state response.\nThe transient response of the model is computed using a first\norder differential equation for the evaporator and condenser fluid volumes.\nThe heat pump outlet temperatures are equal to the temperatures of these lumped volumes.\n\u003c/p\u003e\n\u003ch4\u003eTypical use and important parameters\u003c/h4\u003e\n\u003cp\u003e\nWhen using this component, make sure that the evaporator and the condenser have sufficient mass flow rate.\nBased on the mass flow rates, the compressor power, temperature difference and the efficiencies,\nthe model computes how much heat will be added to the condenser and removed at the evaporator.\nIf the mass flow rates are too small, very high temperature differences can result.\n\u003c/p\u003e\n\u003cp\u003e\nThe condenser heat flow rate \u003ccode\u003eQCon_flow_nominal\u003c/code\u003e is used to assign\nthe default value for the mass flow rates, which are used for the pressure drop\ncalculations.\nIt is also used to compute the part load efficiency.\nHence, make sure that \u003ccode\u003eQCon_flow_nominal\u003c/code\u003e is set to a reasonable value.\n\u003c/p\u003e\n\u003cp\u003e\nThe maximum heating capacity is set by the parameter \u003ccode\u003eQCon_flow_max\u003c/code\u003e,\nwhich is by default set to infinity.\n\u003c/p\u003e\n\u003cp\u003e\nThe coefficient of performance depends on the\nevaporator and condenser leaving temperature\nsince otherwise the second law of thermodynamics may be violated.\n\u003c/p\u003e\n\u003ch4\u003eNotes\u003c/h4\u003e\n\u003cp\u003e\nFor a similar model that can be used as a chiller, see\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Chillers.Carnot_y\\\"\u003eBuildings.Fluid.Chillers.Carnot_y\u003c/a\u003e.\n\u003c/p\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"revisions"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cul\u003e\n\u003cli\u003e\nJanuary 3, 2017, by Michael Wetter:\u003cbr/\u003e\nRemoved parameters\n\u003ccode\u003eeffInpEva\u003c/code\u003e and \u003ccode\u003eeffInpCon\u003c/code\u003e\nand updated documentation.\nThis is for\n\u003ca href\u003d\\\"https://github.com/ibpsa/modelica-ibpsa/issues/497\\\"\u003e\nissue 497\u003c/a\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nAugust 8, 2016, by Michael Wetter:\u003cbr/\u003e\nChanged default temperature to compute COP to be the leaving temperature as\nuse of the entering temperature can violate the 2nd law if the temperature\nlift is small.\u003cbr/\u003e\nThis is for\n\u003ca href\u003d\\\"https://github.com/ibpsa/modelica-ibpsa/issues/497\\\"\u003e\nAnnex 60, issue 497\u003c/a\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nJanuary 26, 2016, by Michael Wetter:\u003cbr/\u003e\nRefactored model to use the same base class as\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Chillers.Carnot_y\\\"\u003eBuildings.Fluid.Chillers.Carnot_y\u003c/a\u003e.\u003cbr/\u003e\nChanged part load efficiency to depend on heating part load ratio rather than on the compressor\npart load ratio.\n\u003c/li\u003e\n\u003cli\u003e\nJanuary 20, 2015, by Damien Picard:\u003cbr/\u003e\nAdd Carnot model to Annex 60 from the Buildings library.\u003cbr/\u003e\nRemoved the flow direction dependency of\n\u003ccode\u003estaA1\u003c/code\u003e, \u003ccode\u003estaB1\u003c/code\u003e, \u003ccode\u003estaA2\u003c/code\u003e and \u003ccode\u003estaB2\u003c/code\u003e as the\nefficiency of the Carnot machine should only be computed in the design flow direction.\u003cbr/\u003e\n\u003c/li\u003e\n\u003cli\u003e\nDecember 18, 2015, by Michael Wetter:\u003cbr/\u003e\nCorrected wrong computation of \u003ccode\u003estaB1\u003c/code\u003e and \u003ccode\u003estaB2\u003c/code\u003e\nwhich mistakenly used the \u003ccode\u003einStream\u003c/code\u003e operator\nfor the configuration without flow reversal.\nThis is for\n\u003ca href\u003d\\\"https://github.com/lbl-srg/modelica-buildings/issues/476\\\"\u003e\nissue 476\u003c/a\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nNovember 25, 2015 by Michael Wetter:\u003cbr/\u003e\nChanged sign convention for \u003ccode\u003edTEva_nominal\u003c/code\u003e to be consistent with\nother models.\nThe model will still work with the old values for \u003ccode\u003edTEva_nominal\u003c/code\u003e,\nbut it will write a warning so that users can transition their models.\n\u003cbr/\u003e\nCorrected \u003ccode\u003eassert\u003c/code\u003e statement for the efficiency curve.\nThis is for\n\u003ca href\u003d\\\"https://github.com/lbl-srg/modelica-buildings/issues/468\\\"\u003e\nissue 468\u003c/a\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nSeptember 3, 2015 by Michael Wetter:\u003cbr/\u003e\nExpanded documentation.\n\u003c/li\u003e\n\u003cli\u003e\nMay 6, 2015 by Michael Wetter:\u003cbr/\u003e\nAdded \u003ccode\u003eprescribedHeatFlowRate\u003dtrue\u003c/code\u003e for \u003ccode\u003evol2\u003c/code\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nOctober 9, 2013 by Michael Wetter:\u003cbr/\u003e\nReimplemented the computation of the port states to avoid using\nthe conditionally removed variables \u003ccode\u003esta_a1\u003c/code\u003e,\n\u003ccode\u003esta_a2\u003c/code\u003e, \u003ccode\u003esta_b1\u003c/code\u003e and \u003ccode\u003esta_b2\u003c/code\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nMay 10, 2013 by Michael Wetter:\u003cbr/\u003e\nAdded electric power \u003ccode\u003eP\u003c/code\u003e as an output signal.\n\u003c/li\u003e\n\u003cli\u003e\nOctober 11, 2010 by Michael Wetter:\u003cbr/\u003e\nFixed bug in energy balance.\n\u003c/li\u003e\n\u003cli\u003e\nMarch 3, 2009 by Michael Wetter:\u003cbr/\u003e\nFirst implementation.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Icon"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"graphics"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"Line"},"function_call_args":{"arguments":{"named_arguments":{"argument":{"name":"points","argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"68"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"90"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"90"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"90"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"90"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"90"}]}}]}}}}}}}}}}}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"90"}]}}]}}}}}}}}}}}]}}]}}}}}}}}}}}}}}]}}]}}}}}}}}},"arguments":{"argument":{"name":"color","argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"function_arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"255"}]}}]}}}}}}}}}}}}]}}]}}}}}}}}}}}}}}]}}]}}}}}}}}}}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}}}]}