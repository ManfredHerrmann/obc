{"within":[{"name":"Buildings.Fluid.Storage"}],"class_definition":[{"class_prefixes":{"prefix":"package"},"class_specifier":{"long_class_specifier":{"name":"UsersGuide","comment":{"string":"\"User\u0027s Guide\""},"composition":{"element_list":{"element":[{"extends_clause":{"name":{"name":"Modelica.Icons.Information"}}}]},"comp_annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"preferredView"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"info\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Documentation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"info"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cp\u003e\nThis user\u0027s guide describes the storage tank models.\nThere are three storage tank models in the this package.\n\u003c/p\u003e\n\u003ctable summary\u003d\\\"summary\\\" border\u003d\\\"1\\\" cellspacing\u003d\\\"0\\\" cellpadding\u003d\\\"2\\\" style\u003d\\\"border-collapse:collapse;\\\"\u003e\n\u003ctr\u003e\u003cth\u003eModel name\u003c/th\u003e       \u003cth\u003eDescription\u003c/th\u003e     \u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Storage.Stratified\\\"\u003e\nBuildings.Fluid.Storage.Stratified\u003c/a\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cp\u003e\nThis is a model of a stratified storage tank as shown in the figure below.\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\"\u003e\n\u003cimg alt\u003d\\\"Image of a storage tank\\\"\nsrc\u003d\\\"modelica://Buildings/Resources/Images/Fluid/Storage/Stratified.png\\\"\nwidth\u003d\\\"387\\\" height\u003d\\\"453\\\"/\u003e\n\u003c/p\u003e\n\u003cp\u003e\nThe tank uses several volumes to model the stratification.\nHeat conduction is modeled between the volumes through the fluid,\nand between the volumes and the ambient.\nThe port \u003ccode\u003eheaPorVol\u003c/code\u003e may be used to connect a temperature sensor\nthat measures the fluid temperature of an individual volume. It may also\nbe used to add heat to individual volumes, for example if the tank contains\nan electrical resistance heater.\n\u003c/p\u003e\n\u003cp\u003e\nThe tank has \u003ccode\u003enSeg\u003c/code\u003e fluid volumes. The top volume has the index \u003ccode\u003e1\u003c/code\u003e.\nThus, to add a heating element to the bottom element, connect a heat input to\n\u003ccode\u003eheaPorVol[nSeg]\u003c/code\u003e.\n\u003c/p\u003e\n\u003cp\u003e\nThe heat ports outside the tank insulation can be\nused to specify an ambient temperature.\nLeave these ports unconnected to force adiabatic boundary conditions.\nNote, however, that all heat conduction elements through the tank wall (but not the top and bottom) are connected to the\nheat port \u003ccode\u003eheaPorSid\u003c/code\u003e. Thus, not connecting\n\u003ccode\u003eheaPorSid\u003c/code\u003e means an adiabatic boundary condition in the sense\nthat \u003ccode\u003eheaPorSid.Q_flow \u003d 0\u003c/code\u003e. This, however, still allows heat to flow\nthrough the tank walls, modeled by \u003ccode\u003econWal\u003c/code\u003e, from one fluid volume\nto another one.\n\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Storage.StratifiedEnhanced\\\"\u003e\nBuildings.Fluid.Storage.StratifiedEnhanced\u003c/a\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cp\u003e\nThe model is identical to\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Storage.Stratified\\\"\u003e\nBuildings.Fluid.Storage.Stratified\u003c/a\u003e,\nexcept that it adds a correction that reduces the numerical\ndissipation.\n\u003c/p\u003e\n\u003cp\u003e\nThe correction uses a third order upwind scheme to compute the\noutlet temperatures of the segments in the tank. This model\nis implemented in\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Storage.BaseClasses.ThirdOrderStratifier\\\"\u003e\nBuildings.Fluid.Storage.BaseClasses.ThirdOrderStratifier\u003c/a\u003e.\n\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Storage.StratifiedEnhancedInternalHex\\\"\u003e\nBuildings.Fluid.Storage.StratifiedEnhancedInternalHex\u003c/a\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cp\u003e\nThis model is identical to\n\u003ca href\u003d\\\"modelica://Buildings.Fluid.Storage.StratifiedEnhanced\\\"\u003e\nBuildings.Fluid.Storage.StratifiedEnhanced\u003c/a\u003e\nexcept that it adds a heat exchanger to the tank.\n\u003c/p\u003e\n\u003cp\u003e\nThe modifications consist of adding a heat exchanger\nand fluid ports to connect to the heat exchanger.\nThe modifications allow to run a fluid through the tank causing heat transfer to the stored fluid.\nA typical example is a storage tank in a solar hot water system.\n\u003c/p\u003e\n\u003cp\u003e\nThe heat exchanger model assumes flow through the inside of a helical coil heat exchanger,\nand stagnant fluid on the outside. Parameters are used to describe the\nheat transfer on the inside of the heat exchanger at nominal conditions, and\ngeometry of the outside of the heat exchanger. This information is used to compute\nan \u003ci\u003ehA\u003c/i\u003e-value for each side of the coil.\nConvection calculations are then performed to identify heat transfer\nbetween the heat transfer fluid and the fluid in the tank.\n\u003c/p\u003e\n\u003cp\u003e\nThe location of the heat exchanger can be parameterized as follows:\nThe parameters \u003ccode\u003ehHex_a\u003c/code\u003e and \u003ccode\u003ehHex_b\u003c/code\u003e are the heights\nof the heat exchanger ports \u003ccode\u003eportHex_a\u003c/code\u003e and \u003ccode\u003eportHex_b\u003c/code\u003e,\nmeasured from the bottom of the tank.\nFor example, to place the port \u003ccode\u003eportHex_b\u003c/code\u003e at the bottom of the tank,\nset \u003ccode\u003ehHexB_b\u003d0\u003c/code\u003e.\nThe parameters \u003ccode\u003ehHex_a\u003c/code\u003e and \u003ccode\u003ehHex_b\u003c/code\u003e are then used to provide\na default value for the parameters\n\u003ccode\u003esegHex_a\u003c/code\u003e and \u003ccode\u003esegHex_b\u003c/code\u003e, which are the numbers of the tank\nsegments to which the heat exchanger ports \u003ccode\u003eportHex_a\u003c/code\u003e and \u003ccode\u003eportHex_b\u003c/code\u003e\nare connected.\n\u003c/p\u003e\n\u003cp align\u003d\\\"center\\\"\u003e\n\u003cimg alt\u003d\\\"Image of a storage tank\\\"\nsrc\u003d\\\"modelica://Buildings/Resources/Images/Fluid/Storage/StratifiedHex.png\\\"\nwidth\u003d\\\"458\\\" height\u003d\\\"456\\\"/\u003e\n\u003c/p\u003e\n\u003cp\u003e\nOptionally, this model computes a dynamic response of the heat exchanger.\nThis can be configured using the parameters\n\u003ccode\u003eenergyDynamicsHexSolid\u003c/code\u003e,\n\u003ccode\u003eenergyDynamicsHex\u003c/code\u003e and\n\u003ccode\u003emassDynamicsHex\u003c/code\u003e.\nFor this computation, the fluid volume inside the heat exchanger\nand the heat capacity of the heat\nexchanger wall \u003ccode\u003eCHex\u003c/code\u003e are approximated.\nBoth depend on the length \u003ccode\u003elHex\u003c/code\u003e\nof the heat exchanger.\nThe model provides default values for these\nparameters, as well as for the heat exchanger material which is\nassumed to be steel. These default values can be overwritten by the user.\nThe default values for the heat exchanger geometry are computed assuming\nthat there is a cylindrical heat exchanger\nmade of steel whose diameter is half the diameter of the tank, e.g.,\n\u003ci\u003er\u003csub\u003eHex\u003c/sub\u003e\u003dr\u003csub\u003eTan\u003c/sub\u003e/2\u003c/i\u003e.\nHence, the length of the heat exchanger is approximated as\n\u003ci\u003el\u003csub\u003eHex\u003c/sub\u003e \u003d 2 r\u003csub\u003eHex\u003c/sub\u003e \u0026pi; h \u003d 2 r\u003csub\u003eTan\u003c/sub\u003e/2 \u0026pi; h\u003c/i\u003e,\nwhere \u003ci\u003eh\u003c/i\u003e is the distance between the heat exchanger inlet and outlet.\nThe wall thickness is assumed to be \u003ci\u003e10%\u003c/i\u003e of the heat exchanger\nouter diameter.\nFor typical applications, users do not need to change these values.\n\u003c/p\u003e\n\u003cp\u003e\nSetting \u003ccode\u003eenergyDynamicsHexSolid\u003c/code\u003e to a dynamic balance and\n\u003ccode\u003eenergyDynamicsHex\u003c/code\u003e to a steady-state balance may be of interest\nto remove very fast dynamics of the fluid, while still modeling slower\ndynamics that arises from the metal of the heat exchanger.\nBy default, \u003ccode\u003eenergyDynamicsHexSolid\u003c/code\u003e is set\nto the same value as \u003ccode\u003eenergyDynamicsHex\u003c/code\u003e\nas this seems to be the typical configuration.\n\u003c/p\u003e\n\u003cp\u003e\nThe heat exchanger is implemented in\n\u003ca href\u003d\\\"Buildings.Fluid.Storage.BaseClasses.IndirectTankHeatExchanger\\\"\u003e\nBuildings.Fluid.Storage.BaseClasses.IndirectTankHeatExchanger\u003c/a\u003e.\n\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}}}]}