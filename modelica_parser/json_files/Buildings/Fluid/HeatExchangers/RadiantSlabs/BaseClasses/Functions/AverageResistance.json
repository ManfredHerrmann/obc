{"within":[{"name":"Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Functions"}],"class_definition":[{"class_prefixes":{"prefix":"nullnull null function"},"class_specifier":{"long_class_specifier":{"name":"AverageResistance","comment":{"string":"\"Average fictitious resistance for plane that contains the pipes\""},"composition":{"protect":["protected"],"element_list":{"element":[{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.Distance"}},"component_list":{"component_declaration":[{"declaration":{"name":"disPip"},"comment":{"comment":{"string":"\"pipe distance\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.Diameter"}},"component_list":{"component_declaration":[{"declaration":{"name":"dPipOut"},"comment":{"comment":{"string":"\"pipe outside diameter\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.ThermalConductivity"}},"component_list":{"component_declaration":[{"declaration":{"name":"k"},"comment":{"comment":{"string":"\"pipe level construction element thermal conductivity\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType"}},"component_list":{"component_declaration":[{"declaration":{"name":"sysTyp"},"comment":{"comment":{"string":"\"Type of radiant system\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.ThermalConductivity"}},"component_list":{"component_declaration":[{"declaration":{"name":"kIns"},"comment":{"comment":{"string":"\"floor slab insulation thermal conductivity\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" input"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.Thickness"}},"component_list":{"component_declaration":[{"declaration":{"name":"dIns"},"comment":{"comment":{"string":"\"floor slab insulation thickness\""}}}]}}},{"component_clause":{"type_prefix":{"prefix":" output"},"type_specifier":{"specifier":{"name":"Modelica.SIunits.ThermalInsulance"}},"component_list":{"component_declaration":[{"declaration":{"name":"Rx"},"comment":{"comment":{"string":"\"Thermal insulance\""}}}]}}}]},"prefixed_element":[{"element":[{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"cri","modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"unit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"1\""}]}}]}}}}}}}},"comment":{}}}}]}}}},"comment":{"comment":{"string":"\"Criteria used to select formula for computation of resistance\""}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"infSum"},"comment":{"comment":{"string":"\"Approximation to infinite sum used to compute the thermal resistance\""}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"alpha","modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"unit"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"W/(m2.K)\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"min"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}}},"comment":{}}}}]}}}},"comment":{"comment":{"string":"\"Criteria used to select formula for computation of resistance\""}}}]}}},{"component_clause":{"type_prefix":{},"type_specifier":{"specifier":{"name":"Real"}},"component_list":{"component_declaration":[{"declaration":{"name":"fac"},"comment":{"comment":{"string":"\"Factor used for systems in wall or ceiling, or for capillary tubes\""}}}]}}}]}],"algorithm_section":[{"algorithm":"algorithm","statement":[{"if_statement":{"iF":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"sysTyp"}}]}}]},"rel_op":{"rel_op":"\u003d\u003d"},"expression2":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType.Floor"}}]}}]}}}}}}},"if_then":[{"component_reference":{"component":"alpha"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"kIns"}}]},"mul_op":[{"mul_op":"/"}],"factors":[{"primarys":[{"component_reference":{"component":"dIns"}}]}]}]}}}}}}},"comment":{"comment":{}}},{"if_statement":{"iF":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"alpha"}}]}}]},"rel_op":{"rel_op":"\u003e\u003d"},"expression2":{"terms":[{"factor":{"primarys":[{"simple_primary":"1.212"}]}}]}}}}}}},"if_then":[{"component_reference":{"component":"Modelica.Utilities.Streams.print"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"Warning: In RadiantAverageResistance, require alpha \u003d kIns/dIns \u003e\u003d 1.212 W/(m2.K).\\n\""}]}},{"factor":{"primarys":[{"simple_primary":"\"   Obtained alpha \u003d \""}]}},{"factor":{"primarys":[{"name":{"name":"String"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"alpha"}}]}}]}}}}}}}}}}}]}},{"factor":{"primarys":[{"simple_primary":"\" W/(m2.K)\\n\""}]}},{"factor":{"primarys":[{"simple_primary":"\"            kIns \u003d \""}]}},{"factor":{"primarys":[{"name":{"name":"String"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"kIns"}}]}}]}}}}}}}}}}}]}},{"factor":{"primarys":[{"simple_primary":"\" W/(m.K)\\n\""}]}},{"factor":{"primarys":[{"simple_primary":"\"            dIns \u003d \""}]}},{"factor":{"primarys":[{"name":{"name":"String"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"dIns"}}]}}]}}}}}}}}}}}]}},{"factor":{"primarys":[{"simple_primary":"\" m\\n\""}]}},{"factor":{"primarys":[{"simple_primary":"\"            For these values, the radiant slab model is outside its valid range.\\n\""}]}}],"adds":[{"add_op":"+"},{"add_op":"+"},{"add_op":"+"},{"add_op":"+"},{"add_op":"+"},{"add_op":"+"},{"add_op":"+"},{"add_op":"+"},{"add_op":"+"},{"add_op":"+"}]}}}}}}}}}},"comment":{"comment":{}}}]},"comment":{"comment":{}}},{"component_reference":{"component":"infSum"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"name":{"name":"sum"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"alpha"}}]},"mul_op":[{"mul_op":"/"},{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"k"}}]},{"primarys":[{"component_reference":{"component":"disPip"}}]}]},{"factor":{"primarys":[{"simple_primary":"2"}]},"mul_op":[{"mul_op":"*"},{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},{"primarys":[{"component_reference":{"component":"s"}}]}]}],"adds":[{"add_op":"-"}]}}}}}}}]}}]},"mul_op":[{"mul_op":"/"}],"factors":[{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"alpha"}}]},"mul_op":[{"mul_op":"/"},{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"k"}}]},{"primarys":[{"component_reference":{"component":"disPip"}}]}]},{"factor":{"primarys":[{"simple_primary":"2"}]},"mul_op":[{"mul_op":"*"},{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},{"primarys":[{"component_reference":{"component":"s"}}]}]}],"adds":[{"add_op":"+"}]}}}}}}}]}}]}]}]}}}}}}}]}}]},"mul_op":[{"mul_op":"*"},{"mul_op":"/"}],"factors":[{"primarys":[{"name":{"name":"Modelica.Math.exp"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"add_pre":{"add_op":"-"},"terms":[{"factor":{"primarys":[{"simple_primary":"4"}]},"mul_op":[{"mul_op":"*"},{"mul_op":"*"},{"mul_op":"*"},{"mul_op":"/"}],"factors":[{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},{"primarys":[{"component_reference":{"component":"s"}}]},{"primarys":[{"component_reference":{"component":"dIns"}}]},{"primarys":[{"component_reference":{"component":"disPip"}}]}]}]}}}}}}}}}}}]},{"primarys":[{"component_reference":{"component":"s"}}]}]}]}}}}}}}},"for_indices":{"for_index":[{"for_index":"s","in_expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}},"operator1":":","expression2":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"100"}]}}]}}}}}}}}]}}}}]}}]}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"Rx"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"disPip"}}]},"mul_op":[{"mul_op":"*"},{"mul_op":"/"}],"factors":[{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"Modelica.Math.log"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"disPip"}}]},"mul_op":[{"mul_op":"/"},{"mul_op":"/"}],"factors":[{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},{"primarys":[{"component_reference":{"component":"dPipOut"}}]}]}]}}}}}}}}}}}]}},{"factor":{"primarys":[{"component_reference":{"component":"infSum"}}]}}],"adds":[{"add_op":"+"}]}}}}}}}]}}]},{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"2"}]},"mul_op":[{"mul_op":"*"},{"mul_op":"*"}],"factors":[{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},{"primarys":[{"component_reference":{"component":"k"}}]}]}]}}}}}}}]}}]}]}]}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"fac"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"cri"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"disPip"}}]},"mul_op":[{"mul_op":"/"}],"factors":[{"primarys":[{"component_reference":{"component":"dPipOut"}}]}]}]}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"fac"},"operator":":\u003d","expression":{"iF":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"cri"}}]}}]},"rel_op":{"rel_op":"\u003e\u003d"},"expression2":{"terms":[{"factor":{"primarys":[{"simple_primary":"5.8"}]}}]}}}}}}}]}}]}}]}}}}}}},"if_then":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"name":{"name":"Modelica.Math.log"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"cri"}}]},"mul_op":[{"mul_op":"/"}],"factors":[{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]}]}]}}}}}}}}}}}]}}]}}}}}}},"eLse":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"output_expression_list":{"expression":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"cri"}}]},"mul_op":[{"mul_op":"/"},{"mul_op":"/"}],"factors":[{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},{"primarys":[{"simple_primary":"3"}]}]}]}}}}}}}]}}]}}]}}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"Rx"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"disPip"}}]},"mul_op":[{"mul_op":"/"},{"mul_op":"/"},{"mul_op":"/"},{"mul_op":"*"}],"factors":[{"primarys":[{"simple_primary":"2"}]},{"primarys":[{"component_reference":{"component":"Modelica.Constants.pi"}}]},{"primarys":[{"component_reference":{"component":"k"}}]},{"primarys":[{"component_reference":{"component":"fac"}}]}]}]}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"assert"},"function_call_args":{"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"sysTyp"}}]}}]},"rel_op":{"rel_op":"\u003d\u003d"},"expression2":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType.Floor"}}]}}]}}}},"logical_relation":"or","logical_terms":[{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"sysTyp"}}]}}]},"rel_op":{"rel_op":"\u003d\u003d"},"expression2":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType.Ceiling_Wall_or_Capillary"}}]}}]}}}}]}}}},"arguments":{"argument":{"expressions":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"Invalid value for sysTyp in \\\"Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Functions.AverageResistance\\\"\n    Check parameters of the radiant slab model.\""}]}}]}}}}}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"cri"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"fac"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"0"}]}}]}}}}}}},"comment":{"comment":{}}},{"component_reference":{"component":"Rx"},"operator":":\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"1"}]}}]}}}}}}},"comment":{"comment":{}}}],"elseiF":[{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"sysTyp"}}]}}]},"rel_op":{"rel_op":"\u003d\u003d"},"expression2":{"terms":[{"factor":{"primarys":[{"component_reference":{"component":"Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType.Ceiling_Wall_or_Capillary"}}]}}]}}}}}}}]},"comment":{"comment":{}}}]}],"comp_annotation":{"prefix":"annotation","annotation":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"Documentation"},"modification":{"class_modification":{"argument_list":{"argument":[{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"info"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cp\u003e\nThis function computes a fictitious thermal resistance between the pipe outer wall\nand a fictitious, average temperature of the plane that contains the pipes.\nThe equation is the same as is implemented in TRNSYS 17.\nDifferent equations are used for\n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\nfloor heating systems (if\n\u003ccode\u003esysTyp \u003d\u003d Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType.Floor\u003c/code\u003e),\n\u003c/li\u003e\n\u003cli\u003e\nradiant heating or cooling systems in ceilings and walls (if\n\u003ccode\u003esysTyp \u003d\u003d Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType.Ceiling_Wall_or_Capillary\u003c/code\u003e\nand \u003ccode\u003edisPip/dPipOut \u0026ge; 5.8\u003c/code\u003e), and\n\u003c/li\u003e\n\u003cli\u003e\ncapillary tube systems (if\n\u003ccode\u003esysTyp \u003d\u003d Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType.Ceiling_Wall_or_Capillary\u003c/code\u003e\nand \u003ccode\u003edisPip/dPipOut \u0026lt; 5.8\u003c/code\u003e).\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003eLimitations\u003c/h4\u003e\n\u003cp\u003e\nThe resistance \u003ccode\u003eRx\u003c/code\u003e is based on a steady-state heat transfer analysis. Therefore, it is\nonly valid during steady-state.\nFor a fully dynamic model, a finite element method for the radiant slab would need to be implemented.\n\u003c/p\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}},{"element_modification_or_replaceable":{"element_modification":{"name":{"name":"revisions"},"modification":{"symbol":"\u003d","expression":{"simple_expression":{"expression1":{"logical_term":{"logical_factor":{"relation":{"expression1":{"terms":[{"factor":{"primarys":[{"simple_primary":"\"\u003chtml\u003e\n\u003cul\u003e\n\u003cli\u003e\nApril 17, 2012, by Michael Wetter:\u003cbr/\u003e\nAdded term \u003ccode\u003e1/s\u003c/code\u003e in computation of \u003ccode\u003einfSum\u003c/code\u003e.\n\u003c/li\u003e\n\u003cli\u003e\nApril 5, 2012, by Michael Wetter:\u003cbr/\u003e\nRevised implementation.\n\u003c/li\u003e\n\u003cli\u003e\nApril 3, 2012, by Xiufeng Pang:\u003cbr/\u003e\nFirst implementation.\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/html\u003e\""}]}}]}}}}}}}},"comment":{}}}}]}}},"comment":{}}}}]}}}}}}}]}